<!doctype html>
<html lang="ru">
<head>
    <!-- Обязательные метатеги -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
          integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"-->
    <!--          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->

    <title>Hello, world!</title>
</head>
<body>

<!--ЗАГОЛОВОК-->
<header>

    <div style="height: 60px" class="container-fluid  bg-dark text-white ">

        <div style="height: 60px" class="row align-items-center">
            <div class="col-11 text-white m-0 h4 ">
                <tr>
                    <b>
                        <!--                        <td id="currentUserEmail" th:utext="${usera.email}">EMAIL</td>-->
                        <span id="currentUserEmail"></span>
                    </b>
                    <!--                    <td th:utext="'with roles: ' + ${usera.getroleToString()}">with roles:</td>-->
                    with roles: <span id="currentUserRoles"> </span>
                </tr>
            </div>
            <div class="col-1">
                <form th:action="@{/logout}" method="post">
                    <input class="btn btn-outline-secondary" type="submit" value="Logout"/>
                </form>
            </div>
        </div>
    </div>
</header>


<!--<script type="text/javascript">-->


<!--    function showCurrUser() {-->
<!--        $.get(`/api/auth/`, function (data) {-->

<!--            let userTbody =-->
<!--                "<tr><td>" + data.id + "</td>" +-->
<!--                "<td>" + data.firstName + "</td>" +-->
<!--                "<td>" + data.lastname + "</td>" +-->
<!--                "<td>" + data.age + "</td>" +-->
<!--                "<td>" + data.email + "</td>" +-->
<!--                "<td>" + data.roleToString + "</td></tr>";-->

<!--            $("#test_user").html(userTbody);-->


<!--        })-->
<!--    }-->

<!--    function currEmail() {-->
<!--        $.get(`/api/auth/`, function (data) {-->
<!--            let authUserEmail = data.email;-->
<!--            $("#currentUserEmail").html(authUserEmail);-->
<!--        })-->
<!--    }-->

<!--    function currRoles() {-->
<!--        $.get(`/api/auth/`, function (data) {-->

<!--            let authUserRoles = data.roleToString;-->
<!--            $("#currentUserRoles").html(authUserRoles);-->
<!--        })-->
<!--    }-->


<!--    $(document).ready(function () {-->
<!--        showCurrUser();-->
<!--        currEmail();-->
<!--        currRoles();-->
<!--    })-->

<!--</script>-->
<!--<script type="text/javascript">-->
<!--    $(document).ready(function () {-->
<!--        $.get(`/api/users/`, function (data) {-->

<!--            console.log(data);-->

<!--            let userTbody = ""-->

<!--            for (i=0; i < data.length; i++) {-->
<!--             userTbody = userTbody +  "<tr><td>" + data[i].id + "</td><td>" + data[i].firstName + "</td><td>" +data[i].lastname+-->
<!--                "</td><td>" + data[i].age + "</td><td>" + data[i].email + "</td><td>" + data[i].roleToString + "</td></tr>";-->
<!--            }-->

<!--            $("#test_user").html(userTbody);-->


<!--            // userTbody = userTbody + "</tr>";-->


<!--        })-->

<!--    })-->
<!--</script>-->
<!--ОСНОВА-->
<div class="container-fluid ">

    <div style="height: calc(100vh - 60px)" class="row">
        <div class="col-2 py-4 px-0">
            <a href="#" class="btn btn-primary btn-lg btn-block text-left" type="button">User</a>
        </div>

        <div style="background-color: rgb(248,249,250)" class="col-10 m-0 py-4 px-5">
            <div class="head info">
                <h1>
                    User Information-page
                </h1>
            </div>

            <div class="about user block border h4 p-3 m-0 border-bottom-0">
                About user
            </div>
            <div style="background-color: white" class="tableuser border p-4">
                <table id="painting" class="table table-striped">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Age</th>
                        <th>E-mail</th>
                        <th>Role</th>
                    </tr>
                    </thead>
                    <tbody id="test_user">


                    <!--                    <tr th:object="${usera}">-->
                    <!--                        <td th:utext="${usera.id}">ID</td>-->
                    <!--                        <td th:utext="${usera.firstName}">First Name</td>-->
                    <!--                        <td th:utext="${usera.lastname}">Last Name</td>-->
                    <!--                        <td th:utext="${usera.age}">Age</td>-->
                    <!--                        <td th:utext="${usera.email}">E-mail</td>-->
                    <!--                        <td th:utext="${usera.roleToString()}"></td>-->

                    <!--                    </tr>-->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script  src="/currUserInfo.js"></script>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>-->
<!--<script  src="../static/currUserInfo.js"></script>-->
<!-- Необязательный JavaScript; выберите один из двух! -->

<!-- Вариант 1: пакет Bootstrap с Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>

<!-- Вариант 2: отдельные JS для Popper и Bootstrap -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
-->
</body>
</html>